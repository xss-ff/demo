"use strict";window.onload=function(){var e=JSON.parse(localStorage.getItem("cartList"));function t(){var t=e.every(function(t){return!0===t.isSelect}),n='\n        <div class="top">\n          <input class="selectAll" type="checkbox" '.concat(t?"checked":"",'>   全选\n\n          <div class="txt">\n            <p>商品名称</p>\n            <p>单价</p>\n            <p>数量</p>\n            <p>小计</p>\n            <p>操作</p>\n        </div>\n        </div>\n        <ul class="center">\n      ');e.forEach(function(t){n+='\n          <li>\n            <div class="select">\n              <input data-id='.concat(t.id,' class="selectOne" type="checkbox" ').concat(t.isSelect?"checked":"",'>\n            </div>\n            <div class="info">\n              <img src="').concat(t.verticalPic,'" alt="">\n              <p>').concat(t.actors,'</p>\n            </div>\n            <p class="price">').concat(t.price,'元</p>\n            <div class="number">\n              <button class="sub" data-id=').concat(t.id,'>-</button>\n              <input type="text" value="').concat(t.number,'">\n              <button class="add" data-id=').concat(t.id,'>+</button>\n            </div>\n            <p class="xiaoji">').concat(t.xiaoji.toFixed(2),'元</p>\n            <div class="del" data-id=').concat(t.id,">×</div>\n          </li>\n        ")});var c=e.filter(function(t){return t.isSelect}),a=0,i=0;c.forEach(function(t){a+=t.number,i+=t.xiaoji}),n+='\n        </ul>\n        <div class="bottom">\n          <p>选中商品数量  <span>'.concat(a,"</span>件</p>\n          <p>合计： <span>").concat(i.toFixed(2),'</span>元</p>\n          <button class="clear">去结算</button>\n        </div>\n      '),$(".cart").html(n)}e&&(t(),$(".cart").on("change",".selectAll",function(){var n=this;e.forEach(function(t){t.isSelect=n.checked}),t(),localStorage.setItem("cartList",JSON.stringify(e))}),$(".cart").on("change",".selectOne",function(){var n=$(this).data("id");e.forEach(function(t){t.id===n&&(t.isSelect=!t.isSelect)}),t(),localStorage.setItem("cartList",JSON.stringify(e))}),$(".cart").on("click",".sub",function(){var n=$(this).data("id");e.forEach(function(t){t.id===n&&(1<t.number&&t.number--,t.xiaoji=t.price*t.number)}),t(),localStorage.setItem("cartList",JSON.stringify(e))}),$(".cart").on("click",".add",function(){var n=$(this).data("id");e.forEach(function(t){t.id===n&&(t.number++,t.xiaoji=t.number*t.price)}),t(),localStorage.setItem("cartList",JSON.stringify(e))}),$(".cart").on("click",".del",function(){var n=this,c=$(this).data("id");console.log("把数组中 id 为 : "+c+" 的数去掉, 从新渲染页面, 从新存储到 lcoalStorage"),e.forEach(function(t){t.id===c&&(localStorage.removeItem("cartList",JSON.stringify(e)),n.parentNode.remove())})}))};